import{r,b,B as S,j as e,c as Ee}from"./index-B3aSgIEu.js";import{A as o}from"./Accordion-CGIhMKbv.js";import{T as fe}from"./Table-D7p0oCGX.js";import{P as N}from"./Placeholder-Dt8gjBXH.js";import"./ThemeProvider-COntGE-K.js";import"./TransitionWrapper-Bf0TK5bL.js";import"./Col-Cd-x-5D5.js";import"./Button-VxBu_kGs.js";import"./Button-DOHxPqx8.js";const s=({branchName:m,studentData:d})=>{var E;const[x,p]=r.useState({role:""});return r.useEffect(()=>{const a=localStorage.getItem("token");b.get(`${S}/user/detail`,{headers:{Authorization:`Bearer ${a}`}}).then(l=>{p({role:l.data.role})}).catch(l=>{console.error("StudentTableTemplate.jsx => ",l)})},[]),e.jsx(o,{className:"mt-3",alwaysOpen:!0,children:e.jsxs(o.Item,{eventKey:m,className:"shadow-lg border-0 rounded-lg overflow-hidden",children:[e.jsx(o.Header,{className:"bg-gradient-to-r from-indigo-50 to-purple-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-users text-indigo-600"}),e.jsx("span",{className:"font-semibold text-gray-800",children:m})]})}),e.jsx(o.Body,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(fe,{hover:!0,className:"mb-0 table-modern",children:[e.jsx("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"6%"},children:"Roll No."}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"15%"},children:"Full Name"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"USN"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"15%"},children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"11%"},children:"Phone Number"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"Resume"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"11%"},children:"Internships"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"11%"},children:"Applied Jobs"})]})}),e.jsx("tbody",{className:"bg-white",children:(d==null?void 0:d.length)>0?(E=d==null?void 0:d.sort((a,l)=>{var n,i;const c=parseInt(((n=a==null?void 0:a.studentProfile)==null?void 0:n.rollNumber)||0),h=parseInt(((i=l==null?void 0:l.studentProfile)==null?void 0:i.rollNumber)||0);return c-h}))==null?void 0:E.map((a,l)=>{var c,h,n,i,f,j,u;return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-indigo-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:(c=a==null?void 0:a.studentProfile)==null?void 0:c.rollNumber}),e.jsx("td",{className:"px-4 py-3 text-sm",children:(x.role==="tpo_admin"||x.role==="management_admin")&&e.jsxs(Ee,{to:`/${x.role==="tpo_admin"?"tpo":"management"}/user/${a==null?void 0:a._id}`,className:"no-underline text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1 group",children:[e.jsx("i",{className:"fa-solid fa-user text-xs"}),`${a==null?void 0:a.first_name} ${a==null?void 0:a.middle_name} ${a==null?void 0:a.last_name}`]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:(h=a==null?void 0:a.studentProfile)==null?void 0:h.USN}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("a",{href:`mailto:${a==null?void 0:a.email}`,target:"_blank",rel:"noopener noreferrer",className:"no-underline text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-envelope text-xs"}),a==null?void 0:a.email]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-phone text-xs text-gray-400"}),a==null?void 0:a.number]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("a",{href:(n=a==null?void 0:a.studentProfile)==null?void 0:n.resume,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-100 text-indigo-600 rounded-full hover:bg-indigo-600 hover:text-white transition-all no-underline text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-file-pdf"}),"View"]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full font-semibold",children:((f=(i=a==null?void 0:a.studentProfile)==null?void 0:i.internships)==null?void 0:f.length)||0})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-600 rounded-full font-semibold",children:((u=(j=a==null?void 0:a.studentProfile)==null?void 0:j.appliedJobs)==null?void 0:u.length)||0})})]},l)}):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-users-slash text-4xl text-gray-300"}),e.jsx("p",{className:"mb-0 font-medium",children:"No Students Registered!"})]})})})})]})})})]})})},je=()=>e.jsxs(o,{defaultActiveKey:["1"],flush:!0,className:"flex flex-col gap-4",children:[e.jsxs(o.Item,{eventKey:"1",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(o.Header,{children:"Fourth Year"}),e.jsx(o.Body,{children:e.jsx(o,{flush:!0,defaultActiveKey:["CSE"],className:"flex flex-col gap-2",children:[...Array(5)].map((m,d)=>e.jsx(N,{as:"p",animation:"glow",children:e.jsx(N,{className:"w-full"})},d))})})]}),e.jsx(o.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(o.Header,{children:"Third Year"})}),e.jsx(o.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(o.Header,{children:"Second Year"})}),e.jsx(o.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(o.Header,{children:"First Year"})})]});function ye(){document.title="CPMS | All Students";const[m,d]=r.useState(!0),[x,p]=r.useState([]),[E,a]=r.useState([]),[l,c]=r.useState([]),[h,n]=r.useState([]),[i,f]=r.useState([]),[j,u]=r.useState([]),[I,g]=r.useState([]),[C,y]=r.useState([]),[w,L]=r.useState([]),[M,A]=r.useState([]),[H,v]=r.useState([]),[D,F]=r.useState([]),[V,T]=r.useState([]),[B,P]=r.useState([]),[k,_]=r.useState([]),[$,K]=r.useState([]),[R,U]=r.useState([]),[z,J]=r.useState([]),[O,q]=r.useState([]),[G,Q]=r.useState([]),[W,X]=r.useState([]),[Z,ee]=r.useState([]),[ae,re]=r.useState([]),[te,se]=r.useState([]),[oe,le]=r.useState([]),[de,ne]=r.useState([]),[ie,ce]=r.useState([]),[he,me]=r.useState([]),xe=async()=>{try{const Y=localStorage.getItem("token"),t=await b.get(`${S}/student/all-students-data-year-and-branch`,{headers:{Authorization:`Bearer ${Y}`}});p(t.data.firstYearCSE),a(t.data.firstYearISE),c(t.data.firstYearAIML),n(t.data.firstYearMECH),f(t.data.firstYearCIVIL),u(t.data.firstYearECE),g(t.data.firstYearEEE),y(t.data.secondYearCSE),L(t.data.secondYearISE),A(t.data.secondYearAIML),v(t.data.secondYearMECH),F(t.data.secondYearCIVIL),T(t.data.secondYearECE),P(t.data.secondYearEEE),_(t.data.thirdYearCSE),K(t.data.thirdYearISE),U(t.data.thirdYearAIML),J(t.data.thirdYearMECH),q(t.data.thirdYearCIVIL),Q(t.data.thirdYearECE),X(t.data.thirdYearEEE),ee(t.data.fourthYearCSE),re(t.data.fourthYearISE),se(t.data.fourthYearAIML),le(t.data.fourthYearMECH),ne(t.data.fourthYearCIVIL),ce(t.data.fourthYearECE),me(t.data.fourthYearEEE)}catch(Y){console.error("Error fetching student data:",Y)}finally{d(!1)}};return r.useEffect(()=>{xe()},[]),e.jsx(e.Fragment,{children:m?e.jsx(je,{}):e.jsx("div",{className:"my-4 max-md:p-2 md:p-6 overflow-auto",children:e.jsxs(o,{defaultActiveKey:["1"],flush:!0,alwaysOpen:!0,className:"flex flex-col gap-4",children:[e.jsxs(o.Item,{eventKey:"1",className:"shadow-lg",children:[e.jsx(o.Header,{children:"Fourth Year"}),e.jsxs(o.Body,{children:[e.jsx(s,{branchName:"CSE",studentData:Z}),e.jsx(s,{branchName:"ISE",studentData:ae}),e.jsx(s,{branchName:"AIML",studentData:te}),e.jsx(s,{branchName:"MECH",studentData:oe}),e.jsx(s,{branchName:"CIVIL",studentData:de}),e.jsx(s,{branchName:"ECE",studentData:ie}),e.jsx(s,{branchName:"EEE",studentData:he})]})]}),e.jsxs(o.Item,{eventKey:"2",className:"shadow-lg",children:[e.jsx(o.Header,{children:"Third Year"}),e.jsxs(o.Body,{children:[e.jsx(s,{branchName:"CSE",studentData:k}),e.jsx(s,{branchName:"ISE",studentData:$}),e.jsx(s,{branchName:"AIML",studentData:R}),e.jsx(s,{branchName:"MECH",studentData:z}),e.jsx(s,{branchName:"CIVIL",studentData:O}),e.jsx(s,{branchName:"ECE",studentData:G}),e.jsx(s,{branchName:"EEE",studentData:W})]})]}),e.jsxs(o.Item,{eventKey:"3",className:"shadow-lg",children:[e.jsx(o.Header,{children:"Second Year"}),e.jsxs(o.Body,{children:[e.jsx(s,{branchName:"CSE",studentData:C}),e.jsx(s,{branchName:"ISE",studentData:w}),e.jsx(s,{branchName:"AIML",studentData:M}),e.jsx(s,{branchName:"MECH",studentData:H}),e.jsx(s,{branchName:"CIVIL",studentData:D}),e.jsx(s,{branchName:"ECE",studentData:V}),e.jsx(s,{branchName:"EEE",studentData:B})]})]}),e.jsxs(o.Item,{eventKey:"4",className:"shadow-lg",children:[e.jsx(o.Header,{children:"First Year"}),e.jsxs(o.Body,{children:[e.jsx(s,{branchName:"CSE",studentData:x}),e.jsx(s,{branchName:"ISE",studentData:E}),e.jsx(s,{branchName:"AIML",studentData:l}),e.jsx(s,{branchName:"MECH",studentData:h}),e.jsx(s,{branchName:"CIVIL",studentData:i}),e.jsx(s,{branchName:"ECE",studentData:j}),e.jsx(s,{branchName:"EEE",studentData:I})]})]})]})})})}export{ye as default};
