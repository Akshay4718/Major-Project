import{r,b as n,B as x,j as e,c as f}from"./index-B3aSgIEu.js";import{T as g,O as y,a as u}from"./TablePlaceholder-BPNYtZh7.js";import{T as N}from"./Table-D7p0oCGX.js";import"./index-_BQgUFlf.js";import"./warning-Bnkvw9rZ.js";import"./TransitionWrapper-Bf0TK5bL.js";import"./ThemeProvider-COntGE-K.js";import"./useEventCallback-BQ8UfDmj.js";import"./Placeholder-Dt8gjBXH.js";import"./Col-Cd-x-5D5.js";import"./Button-VxBu_kGs.js";import"./Button-DOHxPqx8.js";function L(){document.title="CPMS | My Applied Job";const[d,c]=r.useState(!0),[s,m]=r.useState({}),[i,p]=r.useState([]);r.useEffect(()=>{const t=localStorage.getItem("token");n.get(`${x}/user/detail`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{m({id:a.data.id,role:a.data.role})}).catch(a=>{console.log("MyApplied.jsx => ",a),setToastMessage(a),setShowToast(!0)})},[]);const o=async()=>{if(s!=null&&s.id)try{const t=await n.get(`${x}/tpo/myjob/${s==null?void 0:s.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t!=null&&t.data&&p(t==null?void 0:t.data)}catch(t){console.log("Error While Fetching Error => ",t)}finally{c(!1)}};r.useEffect(()=>{o()},[s==null?void 0:s.id]);const h=t=>e.jsx(u,{id:"button-tooltip",...t,children:"View Post"});return e.jsx(e.Fragment,{children:d?e.jsx(g,{}):e.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg border border-gray-200 my-6",children:e.jsxs(N,{hover:!0,responsive:"sm",className:"mb-0 bg-white text-base max-sm:text-sm",children:[e.jsx("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"6%"},children:"Sr. No."}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"16%"},children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"16%"},children:"Job Title"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"CTC"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"Applied On"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"Deadline"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-center",style:{width:"12%"},children:"Applicants"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-center",style:{width:"10%"},children:"Action"})]})}),e.jsx("tbody",{className:"bg-white",children:(i==null?void 0:i.length)>0?i==null?void 0:i.map((t,a)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-indigo-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a+1}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-building text-indigo-600 text-xs"}),e.jsx("span",{className:"font-semibold text-gray-800",children:t==null?void 0:t.companyName})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-briefcase text-xs text-gray-400"}),t==null?void 0:t.jobTitle]})}),e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-green-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-indian-rupee-sign text-xs"}),t==null?void 0:t.salary]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-calendar-check text-xs text-blue-500"}),new Date(t==null?void 0:t.appliedAt.split("T")).toLocaleDateString("en-IN")]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-calendar-xmark text-xs text-red-500"}),new Date(t==null?void 0:t.applicationDeadline).toLocaleDateString("en-IN")]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx("i",{className:"fa-regular fa-clock text-xs"}),new Date(t==null?void 0:t.applicationDeadline).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:(()=>{const l=(t==null?void 0:t.applicationStatus)||(t==null?void 0:t.status)||"applied";return l==="applied"?e.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-paper-plane"}),"Applied"]}):l==="shortlisted"?e.jsxs("span",{className:"inline-flex items-center gap-1 bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-list-check"}),"Shortlisted"]}):l==="in-process"?e.jsxs("span",{className:"inline-flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-spinner"}),"In Process"]}):l==="placed"?e.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-circle-check"}),"Placed"]}):l==="rejected"?e.jsxs("span",{className:"inline-flex items-center gap-1 bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-semibold",children:[e.jsx("i",{className:"fa-solid fa-circle-xmark"}),"Rejected"]}):e.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-semibold",children:l.charAt(0).toUpperCase()+l.slice(1)})})()}),e.jsx("td",{className:"px-4 py-3 text-sm text-center",children:e.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-purple-100 text-purple-600 rounded-full font-bold",children:t==null?void 0:t.numberOfApplicants})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(y,{placement:"top",delay:{show:250,hide:400},overlay:h,children:e.jsx(f,{to:`/student/job/${t.jobId}`,children:e.jsx("button",{className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white transition-all",children:e.jsx("i",{className:"fa-solid fa-eye text-base"})})})})})})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-briefcase-blank text-4xl text-gray-300"}),e.jsx("p",{className:"mb-0 font-medium",children:"No Applications Found"}),e.jsx("p",{className:"text-xs text-gray-400",children:"You haven't applied to any jobs yet"})]})})})})]})})})}export{L as default};
