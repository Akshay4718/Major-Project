import{h as l,a as n,u as p,r as f,j as r,i,N as u,O as m}from"./index-B7OZzBRK.js";const P=({allowedRoles:o})=>{const{user:e,loading:s}=l(),a=n(),t=p();return f.useEffect(()=>{if(s||!e)return;if(!a.pathname.includes("/complete-profile/")&&(e.isProfileCompleted==="false"||e.isProfileCompleted===!1)){e.role==="student"?t(`/student/complete-profile/${e.id}`,{replace:!0}):e.role==="tpo_admin"?t(`/tpo/complete-profile/${e.id}`,{replace:!0}):e.role==="management_admin"&&t(`/management/complete-profile/${e.id}`,{replace:!0});return}o.includes(e.role)||(e.role==="student"?t("/student/dashboard",{replace:!0}):e.role==="tpo_admin"?t("/tpo/dashboard",{replace:!0}):e.role==="management_admin"?t("/management/dashboard",{replace:!0}):e.role==="superuser"?t("/admin/dashboard",{replace:!0}):t("/404",{replace:!0}))},[e,s,t,o,a.pathname]),s?r.jsx(i,{}):e?o.includes(e.role)?!a.pathname.includes("/complete-profile/")&&(e.isProfileCompleted==="false"||e.isProfileCompleted===!1)?r.jsx(i,{}):r.jsx(m,{}):r.jsx(i,{}):r.jsx(u,{to:"/",state:{from:a},replace:!0})};export{P as default};
