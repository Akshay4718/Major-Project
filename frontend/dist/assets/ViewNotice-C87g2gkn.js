import{u as d,d as o,r as i,j as e,b as x,B as m}from"./index-B7OZzBRK.js";function f(){document.title="CPMS | Notice",d();const{noticeId:s}=o(),[a,l]=i.useState(null),[r,n]=i.useState(!0),c=async()=>{try{if(!s)return;const t=await x.get(`${m}/management/get-notice?noticeId=${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Notice data:",t==null?void 0:t.data),l(t==null?void 0:t.data)}catch(t){console.log("error while fetching notice => ",t),l(null)}finally{n(!1)}};return i.useEffect(()=>{c()},[s]),r?e.jsx("div",{className:"my-6 mx-auto max-w-4xl",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin text-4xl text-indigo-600"}),e.jsx("p",{className:"text-gray-500",children:"Loading notice..."})]})})}):!a||!a.title?e.jsx("div",{className:"my-6 mx-auto max-w-4xl",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-exclamation-triangle text-4xl text-red-500"}),e.jsx("p",{className:"text-gray-700 font-semibold",children:"Notice not found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"The notice you're looking for doesn't exist or has been removed."})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"my-6 mx-auto max-w-4xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-t-lg px-6 py-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("i",{className:"fa-solid fa-bell text-white text-2xl"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-0",children:"Notice"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-b-lg shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4 bg-indigo-50",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-0 flex items-start gap-2",children:[e.jsx("i",{className:"fa-solid fa-file-lines text-indigo-600 mt-1"}),a.title]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-start gap-2 mb-4",children:[e.jsx("i",{className:"fa-solid fa-message text-indigo-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Message:"}),e.jsx("p",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-wrap",children:a.message||"No message content available"})]})]})}),e.jsx("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:a.createdAt?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"fa-regular fa-calendar text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Posted on:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:new Date(a.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"fa-regular fa-clock text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"at"}),e.jsx("span",{className:"font-semibold text-gray-800",children:new Date(a.createdAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]}),(new Date-new Date(a.createdAt))/(1e3*60*60*24)<=2&&e.jsxs("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-3 py-1 rounded-full animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-star"}),"NEW"]})]}):e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"fa-regular fa-calendar-xmark text-gray-400 mr-2"}),"Date not available"]})})})]})]})})}export{f as default};
