import{u as v,r as s,j as e,L as C,b as E,B as L}from"./index-B3aSgIEu.js";import{i as P}from"./auth.utility-BSlGJMKu.js";import{C as R}from"./Toast-DNXJp6MA.js";import{B as M}from"./Button-VxBu_kGs.js";import"./ThemeProvider-COntGE-K.js";import"./Button-DOHxPqx8.js";function I(){document.title="CPMS | Admin Login";const l=v(),[c,u]=s.useState(!1),[a,r]=s.useState({}),[h,p]=s.useState(!1),[w,b]=s.useState(""),[n,y]=s.useState({email:"",password:""}),{email:i,password:d}=n,[m,j]=s.useState(!1);s.useEffect(()=>{P()&&l("../admin/dashboard")},[l]);const g=t=>{y({...n,[t.target.name]:t.target.value}),t.target.name==="email"&&r({...a,email:""}),t.target.name==="password"&&r({...a,password:""})},S=async t=>{var f,x;if(t.preventDefault(),!i&&!d)return r({email:"Email Required!",password:"Password Required!"});if(!i)return r({email:"Email Required!"});if(!d)return r({password:"Password Required!"});u(!0);try{const o=await E.post(`${L}/admin/login`,n);localStorage.setItem("token",o.data.token),l("../admin/dashboard")}catch(o){(x=(f=o.response)==null?void 0:f.data)!=null&&x.msg&&(b(o.response.data.msg),p(!0)),console.log("Error in admin login.jsx => ",o),u(!1)}},N=()=>j(!m);return e.jsxs(e.Fragment,{children:[e.jsx(R,{show:h,onClose:()=>p(!1),message:w,delay:3e3,position:"bottom-end"}),e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:e.jsxs("form",{className:"flex flex-col items-center gap-5 bg-white border border-gray-300 rounded-lg p-8 shadow-md w-96 max-w-[90%]",onSubmit:S,children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("img",{src:C,alt:"CPMS Logo",className:"w-32 h-32 rounded-lg shadow-sm"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Super User Log In"})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("input",{type:"email",name:"email",value:i,onChange:g,placeholder:"Email address",className:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 outline-none",autoComplete:"email"}),a.email&&e.jsx("span",{className:"text-red-500 text-sm ml-1",children:a.email})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1 relative",children:[e.jsx("input",{type:m?"text":"password",name:"password",value:d,onChange:g,placeholder:"Password",className:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 outline-none",autoComplete:"current-password"}),e.jsx("i",{className:`absolute right-3 top-2.5 cursor-pointer text-gray-500 ${m?"fa-solid fa-eye":"fa-regular fa-eye-slash"}`,onClick:N}),a.password&&e.jsx("span",{className:"text-red-500 text-sm ml-1",children:a.password})]}),e.jsx(M,{type:"submit",variant:"primary",className:"w-full py-2",disabled:c,children:c?"Loading...":"Log In"}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Â© College Placement Management System 2025 - 26"})]})})]})}export{I as default};
