import{u as N,r,j as e,b as v,B as w}from"./index-B7OZzBRK.js";import{C}from"./Toast-C-pLTZpU.js";function B(){document.title="CPMS | Create Blog";const l=N(),[x,n]=r.useState(!1),[u,i]=r.useState(""),[d,c]=r.useState(!1),[s,p]=r.useState({title:"",content:"",category:"Interview Experience",companyName:"",tags:""}),b=["Interview Experience","Resource Sharing","Tips & Tricks","Career Advice","Other"],t=a=>{p({...s,[a.target.name]:a.target.value})},f=async a=>{var m,g;a.preventDefault(),c(!0);try{const o=localStorage.getItem("token"),h=s.tags?s.tags.split(",").map(j=>j.trim()):[],y=await v.post(`${w}/blog/create`,{...s,tags:h},{headers:{Authorization:`Bearer ${o}`}});i(y.data.msg||"Blog created successfully!"),n(!0),setTimeout(()=>{l("/student/blogs")},1500)}catch(o){console.error("Error creating blog:",o),i(((g=(m=o.response)==null?void 0:m.data)==null?void 0:g.msg)||"Error creating blog"),n(!0)}finally{c(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(C,{show:x,onClose:()=>n(!1),message:u,delay:3e3}),e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>l("/student/blogs"),className:"text-indigo-600 hover:text-indigo-800 flex items-center gap-2 mb-4",children:[e.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back to Blogs"]}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx("i",{className:"fa-solid fa-pen-to-square text-indigo-600"}),"Create New Blog"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Share your knowledge and experiences with fellow students"})]}),e.jsxs("form",{onSubmit:f,className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fa-solid fa-heading text-indigo-600 mr-2"}),"Blog Title *"]}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:t,required:!0,placeholder:"Enter an eye-catching title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fa-solid fa-tag text-indigo-600 mr-2"}),"Category *"]}),e.jsx("select",{name:"category",value:s.category,onChange:t,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500",children:b.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fa-solid fa-building text-indigo-600 mr-2"}),"Company Name (Optional)"]}),e.jsx("input",{type:"text",name:"companyName",value:s.companyName,onChange:t,placeholder:"e.g., Google, Amazon...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For interview experiences, mention the company name"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fa-solid fa-align-left text-indigo-600 mr-2"}),"Content *"]}),e.jsx("textarea",{name:"content",value:s.content,onChange:t,required:!0,rows:"12",placeholder:"Write your blog content here... Share detailed information, tips, and insights.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fa-solid fa-tags text-indigo-600 mr-2"}),"Tags (Optional)"]}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:t,placeholder:"e.g., coding, interview, tips (comma separated)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate tags with commas"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",disabled:d,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Publishing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-paper-plane"}),"Publish Blog"]})}),e.jsx("button",{type:"button",onClick:()=>l("/student/blogs"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Cancel"})]})]})]})]})}export{B as default};
