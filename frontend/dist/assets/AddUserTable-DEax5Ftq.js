import{r as o,b as g,B as j,j as e,c as f}from"./index-B3aSgIEu.js";import{T as N}from"./Table-D7p0oCGX.js";import{T as y,O as l,a as d}from"./TablePlaceholder-BPNYtZh7.js";function U({users:i,loading:c,handleDeleteUser:n,formOpen:b,setFormOpen:v,data:w,handleDataChange:T,handleSubmit:A,userToAdd:x,handleApproveStudent:m}){const[s,h]=o.useState({name:"Not Found",email:"Not Found",profile:"Profile Img"});o.useEffect(()=>{const t=localStorage.getItem("token");g.get(`${j}/user/detail`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{h({email:a.data.email,role:a.data.role})}).catch(a=>{console.log("AddUserTable.jsx => ",a)})},[]);const r=t=>e.jsx(d,{id:"button-tooltip",...t,children:"Delete User"}),p=t=>e.jsx(d,{id:"button-tooltip",...t,children:"Approve User"});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:c?e.jsx("div",{children:e.jsx(y,{})}):e.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg border border-gray-200",children:e.jsxs(N,{hover:!0,responsive:"sm",className:"mb-0 bg-white w-full text-base max-sm:text-sm",children:[e.jsx("thead",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"10%"},children:"Sr. No."}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"15%"},children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"25%"},children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"15%"},children:"Phone Number"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold",style:{width:"20%"},children:"Date of Joining"}),e.jsx("th",{className:"px-4 py-3 text-sm font-semibold text-center",style:{width:"15%"},children:"Action"})]})}),e.jsx("tbody",{className:"bg-white",children:i.length>0?i.map((t,a)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-indigo-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a+1}),e.jsx("td",{className:"px-4 py-3 text-sm",children:t&&e.jsxs(f,{to:s.role==="superuser"?`/admin/user/${t==null?void 0:t._id}`:s.role==="management_admin"?`/management/user/${t==null?void 0:t._id}`:s.role==="tpo_admin"?`/tpo/user/${t==null?void 0:t._id}`:"#",className:"text-indigo-600 no-underline hover:text-indigo-800 font-medium flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-user text-xs"}),(t==null?void 0:t.first_name)+" ",(t==null?void 0:t.last_name)&&(t==null?void 0:t.last_name)]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("a",{href:`mailto:${t.email}`,className:"no-underline text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-envelope text-xs"}),t.email]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-phone text-xs text-gray-400"}),t.number]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-calendar text-xs text-gray-400"}),new Date(t.createdAt).toLocaleDateString("en-IN")]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"flex justify-center items-center",children:x==="approve-student"?e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx(l,{placement:"top",delay:{show:250,hide:400},overlay:r,children:e.jsx("button",{className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-all",children:e.jsx("i",{className:"fa-solid fa-circle-xmark text-lg cursor-pointer",onClick:()=>n(t.email)})})}),e.jsx(l,{placement:"top",delay:{show:250,hide:400},overlay:p,children:e.jsx("button",{className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-600 hover:text-white transition-all",children:e.jsx("i",{className:"fa-solid fa-square-check text-lg cursor-pointer",onClick:()=>m(t.email)})})})]}):e.jsx("div",{className:"flex justify-center",children:e.jsx(l,{placement:"top",delay:{show:250,hide:400},overlay:r,children:e.jsx("button",{className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-600 hover:text-white transition-all",children:e.jsx("i",{className:"fa-regular fa-trash-can text-lg cursor-pointer",onClick:()=>n(t.email)})})})})})})]},t==null?void 0:t.email)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user-slash text-4xl text-gray-300"}),e.jsx("p",{className:"mb-0 font-medium",children:"No users found"})]})})})})]})})})})}export{U as A};
