const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SidebarData-BlgUOwpl.js","./index-B3aSgIEu.js","./index-DVIuB8C-.css","./index-Un8PM_rs.js","./index-3vtW-cjJ.js","./index-Bp2wwI5e.js","./index-BQHwBMOM.js","./index-CZvhWnp9.js","./SidebarData-cYl8bWXv.js","./SidebarData-CQxtu0Gn.js","./index-BJeRoox1.js","./SidebarData-CjNTyYnZ.js"])))=>i.map(i=>d[i]);
import{r as l,j as e,c as d,a as _,u as D,b as L,B as E,L as k,_ as h}from"./index-B3aSgIEu.js";import{G as A,z as p,A as P}from"./index-Un8PM_rs.js";function $(t){return A({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm289.1-43.4c7.5-7.5 19.8-7.5 27.3 0 3.8 3.8 5.6 8.7 5.6 13.6s-1.9 9.9-5.7 13.7l-94.3 94c-7.6 6.9-19.3 6.7-26.6-.6l-95.7-95.4c-7.5-7.5-7.6-19.7 0-27.3 7.5-7.5 19.7-7.6 27.3 0l81.1 81.9 81-79.9z"},child:[]}]})(t)}const C=({to:t,onClick:o,active:n,children:m,hasSubnav:i})=>e.jsx(d,{to:t,onClick:o,className:`flex items-center justify-between w-full px-4 py-3 my-0.5 rounded-lg text-gray-700 text-sm font-medium no-underline transition-all duration-200 group ${n?"bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-600 border-l-4 border-indigo-600 shadow-sm":"hover:bg-gray-50 hover:text-indigo-600"}`,children:m}),j=({children:t})=>e.jsx("span",{className:"ml-3 text-sm font-medium",children:t}),I=({to:t,active:o,children:n})=>e.jsx(d,{to:t,className:`flex items-center py-2.5 pl-12 pr-4 my-0.5 rounded-lg text-gray-600 text-sm no-underline transition-all duration-200 group ${o?"bg-indigo-100 text-indigo-600 font-semibold":"hover:bg-gray-100 hover:text-indigo-600 hover:pl-14"}`,children:n}),O=({item:t,currentPath:o})=>{const[n,m]=l.useState(!1);l.useEffect(()=>{t.subNav&&t.subNav.some(c=>o.includes(c.path))?m(!0):m(!1)},[o,t.subNav]);const i=()=>m(!n);return e.jsxs("div",{className:"mb-1",children:[e.jsxs(C,{to:t.path,onClick:t.subNav&&i,active:o===t.path,hasSubnav:!!t.subNav,children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsx("span",{className:"text-gray-500 group-hover:text-indigo-600 transition-colors flex-shrink-0",children:t.icon}),e.jsx(j,{children:t.title})]}),e.jsx("div",{className:"flex-shrink-0 text-gray-400 group-hover:text-indigo-600 transition-all duration-200",children:t.subNav&&e.jsx("span",{className:`transition-transform duration-200 ${n?"rotate-180":"rotate-0"}`,children:n?t.iconOpened:t.iconClosed})})]}),n&&e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg py-1 px-2 my-1 border-l-2 border-indigo-200 ml-2",children:t.subNav.map((c,a)=>e.jsxs(I,{to:c.path,active:o===c.path,children:[e.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600 transition-colors mr-2 flex-shrink-0",children:c.icon}),e.jsx(j,{children:c.title})]},a))})]})},R=({isSidebarVisible:t})=>{const[o,n]=l.useState(t),m=_(),i=D();l.useEffect(()=>{n(t)},[t]);const c=()=>{localStorage.removeItem("token"),a.role==="student"?i("../student/login"):a.role==="tpo_admin"?i("../tpo/login"):a.role==="management_admin"?i("../management/login"):a.role==="superuser"&&i("../admin")},[a,y]=l.useState({name:"Not Found",email:"Not Found",profile:"Profile Img",role:""});l.useEffect(()=>{const r=localStorage.getItem("token");L.get(`${E}/user/detail`,{headers:{Authorization:`Bearer ${r}`}}).then(s=>{var u,b,v;y({name:`${(u=s.data)==null?void 0:u.first_name} ${(b=s.data)==null?void 0:b.middle_name} ${(v=s.data)==null?void 0:v.last_name}`,email:s.data.email,profile:s.data.profile,role:s.data.role})}).catch(s=>{if(s.response&&s.response.status===401){const u={showToastPass:!0,toastMessagePass:s.response.data.msg};i("../",{state:u})}})},[i]);const[x,N]=l.useState(!1),[f,g]=l.useState([]),S=()=>{N(!x)},w=async()=>{if(a.role==="superuser"){const{SidebarData:r}=await h(async()=>{const{SidebarData:s}=await import("./SidebarData-BlgUOwpl.js");return{SidebarData:s}},__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url);g(r)}else if(a.role==="management_admin"){const{SidebarData:r}=await h(async()=>{const{SidebarData:s}=await import("./SidebarData-cYl8bWXv.js");return{SidebarData:s}},__vite__mapDeps([8,1,2,3,4,6,7,5]),import.meta.url);g(r)}else if(a.role==="tpo_admin"){const{SidebarData:r}=await h(async()=>{const{SidebarData:s}=await import("./SidebarData-CQxtu0Gn.js");return{SidebarData:s}},__vite__mapDeps([9,1,2,3,4,6,7,10]),import.meta.url);g(r)}else if(a.role==="student"){const{SidebarData:r}=await h(async()=>{const{SidebarData:s}=await import("./SidebarData-CjNTyYnZ.js");return{SidebarData:s}},__vite__mapDeps([11,1,2,4,3,6,10]),import.meta.url);g(r)}};return l.useEffect(()=>{a.role&&w()},[a.role]),e.jsx(e.Fragment,{children:e.jsxs("nav",{className:`bg-white w-[260px] min-h-screen h-full z-20 flex flex-col fixed top-0 transition-all duration-300 ${o?"translate-x-0":"-translate-x-full"} shadow-xl border-r border-gray-200 navbar-container`,children:[e.jsxs("div",{className:"flex items-center px-5 py-6 gap-3  shadow-md",children:[e.jsx("img",{className:"rounded-xl shadow-lg",src:k,alt:"Logo Image",width:"60",height:"60"}),e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-bold text-white mb-0",children:[a.role==="superuser"&&e.jsx(d,{to:"/admin/dashboard",className:"no-underline text-gray-700 hover:text-indigo-100 transition-colors",children:"CPMS"}),a.role==="management_admin"&&e.jsx(d,{to:"/management/dashboard",className:"no-underline text-gray-700 hover:text-indigo-100 transition-colors",children:"CPMS"}),a.role==="tpo_admin"&&e.jsx(d,{to:"/tpo/dashboard",className:"no-underline text-gray-700 hover:text-indigo-100 transition-colors",children:"CPMS"}),a.role==="student"&&e.jsx(d,{to:"/student/dashboard",className:"no-underline text-gray-700 hover:text-indigo-100 transition-colors",children:"CPMS"})]})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto sidebar-content pb-24 py-4",children:e.jsx("div",{className:"flex flex-col justify-center w-full px-2",children:f.length>0?f.map((r,s)=>e.jsx(O,{item:r,currentPath:m.pathname},s)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin text-2xl text-indigo-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading menu..."})]})})}),e.jsxs("div",{className:"bottom-0 absolute w-full transition-all duration-300 border-t border-gray-200 bg-white",children:[x&&e.jsxs("div",{className:`w-full bg-gradient-to-b from-gray-50 to-white shadow-inner transition-all duration-300 ${x?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-5"}`,children:[a.role==="student"&&e.jsxs(d,{to:"../student/account",className:"flex items-center no-underline text-gray-700 px-4 py-3 hover:bg-indigo-50 hover:text-indigo-600 transition-all group",children:[e.jsx(p,{className:"mr-3 text-gray-500 group-hover:text-indigo-600 transition-colors"}),e.jsx("span",{className:"font-medium text-sm",children:"Account Settings"})]}),a.role==="tpo_admin"&&e.jsxs(d,{to:"../tpo/account",className:"flex items-center no-underline text-gray-700 px-4 py-3 hover:bg-indigo-50 hover:text-indigo-600 transition-all group",children:[e.jsx(p,{className:"mr-3 text-gray-500 group-hover:text-indigo-600 transition-colors"}),e.jsx("span",{className:"font-medium text-sm",children:"Account Settings"})]}),a.role==="management_admin"&&e.jsxs(d,{to:"../management/account",className:"flex items-center no-underline text-gray-700 px-4 py-3 hover:bg-indigo-50 hover:text-indigo-600 transition-all group",children:[e.jsx(p,{className:"mr-3 text-gray-500 group-hover:text-indigo-600 transition-colors"}),e.jsx("span",{className:"font-medium text-sm",children:"Account Settings"})]}),e.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-3 text-red-600 hover:bg-red-50 transition-all border-t border-gray-200 group",children:[e.jsx(P,{className:"mr-3 group-hover:translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium text-sm",children:"Logout"})]})]}),e.jsxs("div",{className:"flex justify-between items-center cursor-pointer bg-gradient-to-r from-gray-50 to-gray-100 hover:from-indigo-50 hover:to-purple-50 transition-all duration-300 px-3 py-3 group",onClick:S,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.profile,alt:"Profile",className:"w-11 h-11 rounded-full object-cover ring-2 ring-indigo-200 group-hover:ring-indigo-400 transition-all shadow-md"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 truncate group-hover:text-indigo-600 transition-colors",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.email})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx($,{size:20,className:`text-gray-400 group-hover:text-indigo-600 transition-all duration-300 ${x?"rotate-180":"rotate-0"}`})})]})]})]})})};export{R as default};
