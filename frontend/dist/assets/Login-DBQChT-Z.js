import{u as S,r as s,j as e,L as v,b as E,B as L}from"./index-B3aSgIEu.js";import{C as M}from"./Toast-DNXJp6MA.js";import{i as P}from"./auth.utility-BSlGJMKu.js";import{B as R}from"./Button-VxBu_kGs.js";import"./ThemeProvider-COntGE-K.js";import"./Button-DOHxPqx8.js";function O(){document.title="CPMS | Management Login";const n=S(),[c,u]=s.useState(!1),[a,r]=s.useState({}),[h,g]=s.useState(!1),[w,b]=s.useState(""),[l,y]=s.useState({email:"",password:""}),{email:i,password:m}=l,[d,j]=s.useState(!1);s.useEffect(()=>{P()&&n("../tpo/dashboard")},[n]);const p=t=>{y({...l,[t.target.name]:t.target.value}),t.target.name==="email"&&r({...a,email:""}),t.target.name==="password"&&r({...a,password:""})},N=async t=>{var x,f;if(t.preventDefault(),!i&&!m)return r({email:"Email Required!",password:"Password Required!"});if(!i)return r({email:"Email Required!"});if(!m)return r({password:"Password Required!"});u(!0);try{const o=await E.post(`${L}/management/login`,l);localStorage.setItem("token",o.data.token),n("/management/dashboard")}catch(o){(f=(x=o.response)==null?void 0:x.data)!=null&&f.msg&&(b(o.response.data.msg),g(!0)),console.log("Error in Management login.jsx => ",o),u(!1)}},C=()=>j(!d);return e.jsxs(e.Fragment,{children:[e.jsx(M,{show:h,onClose:()=>g(!1),message:w,delay:3e3,position:"bottom-end"}),e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:e.jsxs("form",{className:"flex flex-col items-center gap-5 bg-white border border-gray-300 rounded-lg p-8 shadow-md w-96 max-w-[90%]",onSubmit:N,children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("img",{src:v,alt:"CPMS Logo",className:"w-32 h-32 rounded-lg shadow-sm"}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Management Log In"})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("input",{type:"email",name:"email",value:i,onChange:p,placeholder:"Email address",className:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 outline-none",autoComplete:"email"}),a.email&&e.jsx("span",{className:"text-red-500 text-sm",children:a.email})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1 relative",children:[e.jsx("input",{type:d?"text":"password",name:"password",value:m,onChange:p,placeholder:"Password",className:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 outline-none",autoComplete:"current-password"}),e.jsx("i",{className:`absolute right-3 top-2.5 cursor-pointer text-gray-500 ${d?"fa-solid fa-eye":"fa-regular fa-eye-slash"}`,onClick:C}),a.password&&e.jsx("span",{className:"text-red-500 text-sm",children:a.password})]}),e.jsx(R,{type:"submit",variant:"primary",className:"w-full py-2",disabled:c,children:c?"Loading...":"Log In"}),e.jsxs("p",{className:"text-sm text-gray-700 text-center",children:["Log In as TPO?"," ",e.jsx("span",{className:"text-blue-500 font-medium cursor-pointer hover:underline",onClick:()=>n("../tpo/login"),children:"Click Here"})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Â© College Placement Management System 2025 - 26"})]})})]})}export{O as default};
